VERSION = 1.0.0

SOURCE = $(wildcard ./src/*.c)
OBJ = $(patsubst %.c, %.o, $(SOURCE))
INCLUDES = -I./h

LIBS = -ldylib
LIB_PATH = -L./lib

DEBUG = -D_MACRO
CFLAGS = -Wall -c

TARGET = app
CC = gcc

$(TARGET): $(OBJ)	
	@mkdir -p output/
	$(CC) $(OBJ) $(LIB_PATH) $(LIBS) -o output/$(TARGET).$(VERSION)

%.o: %.c
	$(CC) $(INCLUDES) $(DEBUG) $(CFLAGS) $< -o $@

.PHONY: clean
clean:
	rm -rf $(OBJ) output/ 
